<!DOCTYPE html>
<html class="dark" lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>CloudSight Popup</title>
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap"
    rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="styles.css">
  <style>
    ::-webkit-scrollbar {
      width: 4px;
    }

    ::-webkit-scrollbar-track {
      background: #0F172A;
    }

    ::-webkit-scrollbar-thumb {
      background: #334155;
      border-radius: 4px;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
      background-color: #0F172A;
    }

    .extension-popup {
      width: 380px;
      height: 600px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .text-glow {
      text-shadow: 0 0 20px rgba(99, 102, 241, 0.15);
    }

    /* Enhanced glow */
    .font-display {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>

<body style="width: 380px; height: 600px; overflow: hidden; margin: 0; background-color: #0F172A;"
  class="font-display text-slate-200">
  <div class="extension-popup bg-background-dark border border-slate-800 rounded-xl relative">
    <header
      class="flex items-center justify-between px-5 py-3 border-b border-card-border bg-[#0F172A]/95 backdrop-blur-sm sticky top-0 z-20">
      <div class="flex items-center gap-2">
        <div
          class="size-6 rounded bg-gradient-to-br from-primary to-indigo-600 flex items-center justify-center text-white shadow-glow">
          <span class="material-symbols-outlined text-[14px]">cloud</span>
        </div>
        <span class="text-sm font-semibold text-white tracking-tight">CloudSight</span>
      </div>
      <div class="flex items-center gap-3">
        <div class="flex items-center gap-1.5 px-2 py-1 bg-slate-800/40 rounded border border-white/5">
          <!-- AWS -->
          <div id="filter-aws" class="size-4 cursor-pointer hover:opacity-80 transition-opacity" title="AWS Active">
            <svg viewBox="0 0 24 24" fill="none" class="w-full h-full">
              <rect x="2" y="2" width="20" height="20" rx="4" fill="#FF9900" />
              <path d="M7 12L10 15L17 8" stroke="white" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
          </div>
          <!-- Azure -->
          <div id="filter-azure"
            class="size-4 grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition-all cursor-pointer"
            title="Azure Paused">
            <svg viewBox="0 0 24 24" fill="none" class="w-full h-full">
              <path d="M5 19L10 4L15 19H5Z" fill="#0078D4" />
            </svg>
          </div>
          <!-- GCP -->
          <div id="filter-gcp"
            class="size-4 grayscale opacity-40 hover:grayscale-0 hover:opacity-100 transition-all cursor-pointer"
            title="GCP Off">
            <svg viewBox="0 0 24 24" fill="none" class="w-full h-full">
              <circle cx="12" cy="12" r="9" fill="#DB4437" />
              <path d="M12 7V17M7 12H17" stroke="white" stroke-width="2" />
            </svg>
          </div>
        </div>
        <div class="h-4 w-px bg-slate-700"></div>
        <button class="text-slate-400 hover:text-white transition-colors">
          <span class="material-symbols-outlined text-[18px]">settings</span>
        </button>
      </div>
    </header>
    <div class="flex-1 overflow-y-auto overflow-x-hidden bg-[#0F172A]">
      <div class="p-5 flex flex-col gap-5">
        <div class="flex flex-col gap-1 relative z-10 text-center pt-2">
          <span class="text-slate-400 text-[11px] font-medium uppercase tracking-widest">Month-to-Date Spend</span>
          <h2 id="total-spend"
            class="text-[42px] font-bold text-white tracking-tighter text-glow mt-1 leading-none font-display">
            $12,450<span class="text-2xl text-slate-500 font-medium">.00</span></h2>
          <div class="flex items-center justify-center gap-2 mt-2">
            <span
              class="bg-emerald-500/10 text-emerald-400 px-2 py-0.5 rounded text-[11px] font-medium border border-emerald-500/20 flex items-center gap-1">
              <span class="material-symbols-outlined text-[12px]">trending_up</span> +12.5% vs last mo
            </span>
          </div>
        </div>
        <!-- Enhanced Trend Chart Area -->
        <div class="relative h-32 w-full -mx-2 -mt-2">
          <div
            class="absolute inset-0 bg-gradient-to-t from-[#0F172A] via-[#0F172A]/10 to-transparent z-10 pointer-events-none">
          </div>
          <svg class="w-full h-full overflow-visible" preserveAspectRatio="none" viewBox="0 0 380 100">
            <defs>
              <linearGradient id="popupChartGradient" x1="0" x2="0" y1="0" y2="1">
                <stop offset="0%" stop-color="#6366F1" stop-opacity="0.5"></stop>
                <stop offset="100%" stop-color="#6366F1" stop-opacity="0"></stop>
              </linearGradient>
            </defs>
            <!-- Soft Glow Line -->
            <path d="M0 80 C 40 75, 50 60, 90 65 S 150 40, 190 55 S 250 30, 300 45 S 350 20, 380 40 V 120 H 0 Z"
              fill="url(#popupChartGradient)"></path>
            <path d="M0 80 C 40 75, 50 60, 90 65 S 150 40, 190 55 S 250 30, 300 45 S 350 20, 380 40" fill="none"
              stroke="#818CF8" stroke-linecap="round" stroke-width="2.5" class="drop-shadow-md"></path>
            <!-- Data Point -->
            <circle cx="280" cy="40" r="4" fill="#0F172A" stroke="#818CF8" stroke-width="2" class="animate-pulse">
            </circle>
          </svg>
        </div>
        <div class="grid grid-cols-2 gap-3 -mt-6 relative z-20">
          <!-- Forecast Card -->
          <div
            class="bg-slate-800/40 rounded-lg p-4 border border-slate-700/50 hover:border-indigo-500/30 transition-all group backdrop-blur-md">
            <div class="flex justify-between items-start mb-2">
              <span class="text-slate-400 text-[10px] font-semibold uppercase tracking-wider">Forecast</span>
              <span
                class="material-symbols-outlined text-slate-600 text-[16px] group-hover:text-indigo-400 transition-colors">insights</span>
            </div>
            <p id="forecast-spend" class="text-white text-lg font-bold tracking-tight">$14,200</p>
            <span class="text-indigo-400 text-[10px] font-medium flex items-center gap-1 mt-1">
              +5% variance
            </span>
          </div>
          <!-- Savings Opportunities (New) -->
          <div
            class="bg-gradient-to-br from-slate-800/40 to-emerald-900/10 rounded-lg p-4 border border-slate-700/50 hover:border-emerald-500/30 transition-all group relative overflow-hidden backdrop-blur-md cursor-pointer">
            <div class="flex justify-between items-start mb-2 relative z-10">
              <span class="text-slate-400 text-[10px] font-semibold uppercase tracking-wider">Savings</span>
              <span class="material-symbols-outlined text-emerald-500 text-[16px]">savings</span>
            </div>
            <p class="text-white text-lg font-bold tracking-tight relative z-10">$845<span
                class="text-xs text-slate-500 font-normal">/mo</span></p>
            <span class="text-emerald-400 text-[10px] font-medium mt-1 block relative z-10">
              3 optimizations
            </span>
          </div>
        </div>
        <!-- Active Services List -->
        <div class="flex flex-col gap-3 pt-2">
          <div class="flex justify-between items-center px-1">
            <h3 class="text-slate-300 text-xs font-semibold tracking-wide">Top Movers</h3>
          </div>
          <div id="provider-list" class="space-y-2">
            <!-- AWS Item -->
            <div
              class="flex items-center gap-3 py-2 px-2 rounded hover:bg-white/5 transition-colors cursor-pointer group">
              <div
                class="w-8 h-8 rounded flex items-center justify-center bg-[#FF9900]/10 border border-[#FF9900]/20 text-[#FF9900]">
                <span class="material-symbols-outlined text-[16px]">dns</span>
              </div>
              <div class="flex-1">
                <div class="flex justify-between text-[11px] mb-1">
                  <span class="text-slate-200 font-medium group-hover:text-white">EC2 Instances</span>
                  <span class="text-white font-mono font-semibold">$8,450</span>
                </div>
                <div class="h-1 bg-slate-800 rounded-full overflow-hidden">
                  <div class="h-full bg-[#FF9900] w-[65%] rounded-full shadow-[0_0_8px_rgba(255,153,0,0.4)]"></div>
                </div>
              </div>
            </div>
            <!-- GCP Item -->
            <div
              class="flex items-center gap-3 py-2 px-2 rounded hover:bg-white/5 transition-colors cursor-pointer group">
              <div
                class="w-8 h-8 rounded flex items-center justify-center bg-[#DB4437]/10 border border-[#DB4437]/20 text-[#DB4437]">
                <span class="material-symbols-outlined text-[16px]">cloud_queue</span>
              </div>
              <div class="flex-1">
                <div class="flex justify-between text-[11px] mb-1">
                  <span class="text-slate-200 font-medium group-hover:text-white">BigQuery</span>
                  <span class="text-white font-mono font-semibold">$880</span>
                </div>
                <div class="h-1 bg-slate-800 rounded-full overflow-hidden">
                  <div class="h-full bg-[#DB4437] w-[15%] rounded-full shadow-[0_0_8px_rgba(219,68,55,0.4)]"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        class="p-5 pt-4 bg-[#0F172A] border-t border-card-border flex flex-col gap-4 sticky bottom-0 z-30 shadow-[0_-5px_20px_rgba(0,0,0,0.3)]">
        <button id="btn-open-dashboard"
          class="w-full bg-slate-100 hover:bg-white hover:-translate-y-0.5 active:translate-y-0 text-slate-900 font-bold py-3 rounded-lg text-xs transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-white/5 ring-1 ring-white/50">
          <span>Open Command Center</span>
          <span class="material-symbols-outlined text-[16px]">arrow_outward</span>
        </button>
      </div>
    </div>
    <script src="popup.js"></script>
</body>

</html>